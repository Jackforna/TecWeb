<body>
    <div class = "answerSqueal-container">
        <h3>Answer to my squeals</h3>
    </div>
    <h3>Most Reacted Squeals</h3>
    <!--
    <div class="carousel-container">
        <button *ngIf="currentSquealIndex > 0" (click)="showPreviousSqueal()" class="nav-button left">◀</button>
      
        <div *ngIf="mostReactedSqueals.length" class="squeal-card-container">
          <mat-card class="squeal-card" *ngIf="mostReactedSqueals[currentSquealIndex] as currentSqueal">
            <mat-card-header>
              <mat-card-title>{{ currentSqueal.sender }}</mat-card-title>
              <mat-card-subtitle>{{ currentSqueal.date | date }} at {{ currentSqueal.hour }}:{{ currentSqueal.seconds }}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <p>{{ currentSqueal.body.text }}</p>
            </mat-card-content>
            <mat-card-actions>
              <button mat-button>Likes ({{ currentSqueal.pos_reactions }})</button>
              <button mat-button>Dislikes ({{ currentSqueal.neg_reactions }})</button>
            </mat-card-actions>
          </mat-card>
        </div>
      
        <button *ngIf="currentSquealIndex < mostReactedSqueals.length - 1" (click)="showNextSqueal()" class="nav-button right">▶</button>
      </div>
    -->
    <div class="carousel-container">
        <button *ngIf="currentSquealIndex > 0" (click)="showPreviousSqueal()" class="nav-button left">◀</button>
      
        <div *ngIf="mostReactedSqueals.length" class="squeal-card-container">
          <mat-card class="squeal-card" *ngIf="mostReactedSqueals[currentSquealIndex] as currentSqueal">
            <mat-card-header>
              <mat-card-title>{{ currentSqueal.sender }}</mat-card-title>
              <mat-card-subtitle>{{ currentSqueal.date | date }} at {{ currentSqueal.hour }}:{{ currentSqueal.seconds }}</mat-card-subtitle>
            </mat-card-header>
            <!--<img mat-card-image *ngIf="currentSqueal.body.photo" [src]="currentSqueal.body.photo" alt="Photo">-->
            <mat-card-content>
              <img mat-card-image *ngIf="currentSqueal.body.photo" [src]="currentSqueal.body.photo" alt="Photo">
              <p>{{ currentSqueal.body.text }}</p>
              <!--
              <div *ngIf="currentSqueal.body.position.length >= 2" id="map-container-{{ currentSqueal.nickname }}">
                {{ currentSqueal.body.position }}
              </div>
              -->
              <div *ngIf="currentSqueal.body.position.length >= 2" class="map-container" 
                [id]="'map-container-' + currentSquealIndex">
                <!-- La mappa verrà generata qui -->
              </div>
              <a *ngIf="currentSqueal.body.link" [href]="currentSqueal.body.link" target="_blank">{{ currentSqueal.body.link }}</a>           
              <video *ngIf="currentSqueal.body.video" controls>
                <source [src]="currentSqueal.body.video" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </mat-card-content>
            <mat-card-actions>
              <button mat-button>Likes ({{ currentSqueal.pos_reactions }})</button>
              <button mat-button>Dislikes ({{ currentSqueal.neg_reactions }})</button>
            </mat-card-actions>
          </mat-card>
        </div>
      
        <button *ngIf="currentSquealIndex < mostReactedSqueals.length - 1" (click)="showNextSqueal()" class="nav-button right">▶</button>
      </div>
      
    <div class = "lessReactedSqueal-container">
        <h3>Less Reacted Squeals</h3>
    </div> 
    <div class = "mostPopularSqueal-container">
        <h3>Most Popular Squeals</h3>    
    </div>
    <div class = "inpopularSqueal-container">
        <h3>Inpopular Squeals</h3>
    </div>
    <div class = "controversialSqueal-container">
        <h3>Squeals at risk of controversy</h3>
    </div>
</body>


<!--<div class="most-reacted-squeals-container">
    <h3>Most Reacted Squeals</h3>
    <mat-card *ngFor="let squeal of mostReactedSqueals" class="squeal-card">
        <mat-card-header>
            <div mat-card-avatar class="squeal-avatar" [style.backgroundImage]="'url(' + squeal.photoprofile + ')'"></div>
            <mat-card-title>{{ squeal.sender }}</mat-card-title>
            <mat-card-subtitle>{{ squeal.date | date:'medium' }} at {{ squeal.hour }}:{{ squeal.seconds }}</mat-card-subtitle>
        </mat-card-header>
        <img mat-card-image *ngIf="squeal.body.photo" [src]="squeal.body.photo" alt="Squeal photo">
        <mat-card-content>
            <p>{{ squeal.body.text }}</p>
            <a *ngIf="squeal.body.link" [href]="squeal.body.link" target="_blank">Link</a>
        </mat-card-content>
        <mat-card-actions>
            <button mat-button>Likes ({{ squeal.pos_reactions }})</button>
            <button mat-button>Dislikes ({{ squeal.neg_reactions }})</button>
        </mat-card-actions>
    </mat-card>
</div>
-->